<template>
    <lightning-card title="Carga Masiva de Tanques" icon-name="utility:feed">
        <div class="slds-m-around_medium">
            
            <lightning-combobox
                name="tankType"
                label="Paso 1: Seleccionar un Tipo de Tanque"
                placeholder="-- Seleccionar Tipo --"
                value={selectedTankTypeId}
                options={tankTypeOptions}
                onchange={handleTankTypeChange}
                required
            ></lightning-combobox>

            <div if:true={selectedTankTypeId} class="slds-m-top_medium">
                <div class="slds-form-element">
                    <span class="slds-form-element__label" id="file-label">Paso 2: Cargar el archivo CSV de Tanques</span>
                    <div class="slds-form-element__control">
                        <div class="slds-file-selector slds-file-selector_files">
                            <div class="slds-file-selector__dropzone">
                                <input 
                                    type="file" 
                                    class="slds-file-selector__input" 
                                    accept=".csv" 
                                    id="file-input-csv" 
                                    onchange={handleFileChange} 
                                    aria-labelledby="file-label"
                                />
                                <label class="slds-file-selector__body" for="file-input-csv">
                                    <span class="slds-file-selector__button slds-button slds-button_neutral">
                                        <lightning-icon icon-name="utility:upload" size="x-small" class="slds-m-right_x-small"></lightning-icon>Upload Files
                                    </span>
                                    <span class="slds-file-selector__text slds-medium-show-inline">Or drop files</span>
                                </label>
                            </div>
                        </div>
                    </div>
                </div>
                <div if:true={fileName} class="slds-m-top_x-small slds-text-body_small">
                    Archivo seleccionado: <strong>{fileName}</strong>
                </div>
            </div>

            <div class="slds-m-top_medium">
                <lightning-button
                    label="Paso 3: Procesar y Crear Tanques"
                    variant="brand"
                    onclick={handleProcessCSV}
                    disabled={processButtonDisabled}
                    class="slds-m-top_medium"
                ></lightning-button>
            </div>

        </div>
    </lightning-card>
</template>